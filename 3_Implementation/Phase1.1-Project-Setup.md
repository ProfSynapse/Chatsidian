---
title: Phase 1.1 - Project Setup and Development Environment
description: Setting up the basic project structure and development environment for the Chatsidian plugin
date: 2025-05-03
status: planning
tags:
  - implementation
  - project-setup
  - development-environment
  - chatsidian
---

# Phase 1.1: Project Setup and Development Environment

## Overview

This microphase focuses on setting up the foundational project structure and development environment for the Chatsidian plugin. A well-configured environment is crucial for efficient development, testing, and deployment of the plugin.

## Objectives

- Initialize the project repository with necessary configuration files
- Set up the build system using esbuild for efficient compilation
- Configure TypeScript for type safety and developer experience
- Create the basic plugin boilerplate following Obsidian's requirements
- Set up testing environment using Jest
- Prepare project documentation

## Implementation Steps

### 1. Initialize Project Repository

```bash
# Create project directory
mkdir chatsidian
cd chatsidian

# Initialize npm project
npm init -y

# Initialize git repository
git init
touch .gitignore
```

Add to `.gitignore`:
```
node_modules/
.DS_Store
*.log
dist/
main.js
data.json
coverage/
.idea/
.vscode/
```

### 2. Configure Build System with esbuild

Install required dependencies:
```bash
npm install --save-dev esbuild builtin-modules
```

Create `esbuild.config.mjs` file:
```javascript
import esbuild from "esbuild";
import process from "process";
import builtins from "builtin-modules";

const banner = `/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
*/
`;

const prod = process.argv[2] === "production";

esbuild
  .build({
    banner: {
      js: banner,
    },
    entryPoints: ["src/main.ts"],
    bundle: true,
    external: [
      "obsidian",
      "electron",
      ...builtins
    ],
    format: "cjs",
    watch: !prod,
    target: "es2018",
    logLevel: "info",
    sourcemap: prod ? false : "inline",
    treeShaking: true,
    outfile: "main.js",
  })
  .catch(() => process.exit(1));
```

### 3. Set up TypeScript Configuration

Install TypeScript:
```bash
npm install --save-dev typescript @types/node
```

Create `tsconfig.json`:
```json
{
  "compilerOptions": {
    "baseUrl": "src",
    "inlineSourceMap": true,
    "inlineSources": true,
    "module": "ESNext",
    "target": "ES2018",
    "allowJs": true,
    "noImplicitAny": true,
    "moduleResolution": "node",
    "importHelpers": true,
    "isolatedModules": true,
    "lib": [
      "DOM",
      "ES5",
      "ES6",
      "ES7",
      "ES2021"
    ]
  },
  "include": [
    "src/**/*.ts"
  ]
}
```

### 4. Create Basic Plugin Boilerplate

Create basic directory structure:
```bash
mkdir -p src/models src/core src/providers
```

Create `manifest.json` file:
```json
{
  "id": "chatsidian",
  "name": "Chatsidian",
  "version": "0.1.0",
  "minAppVersion": "1.4.0",
  "description": "An Obsidian plugin for native chat with MCP integration",
  "author": "Your Name",
  "authorUrl": "https://github.com/yourusername",
  "fundingUrl": "",
  "isDesktopOnly": false
}
```

Create initial `src/main.ts` file:
```typescript
import { Plugin } from 'obsidian';

export default class ChatsidianPlugin extends Plugin {
  async onload() {
    console.log('Loading Chatsidian plugin');
    
    // Add command to open chat
    this.addCommand({
      id: 'open-chatsidian',
      name: 'Open Chatsidian',
      callback: () => {
        console.log('Chat interface not yet implemented');
      }
    });
    
    console.log('Chatsidian plugin loaded');
  }
  
  async onunload() {
    console.log('Unloading Chatsidian plugin');
  }
}
```

### 5. Configure Testing Environment with Jest

Install Jest and related dependencies:
```bash
npm install --save-dev jest @types/jest ts-jest
```

Create `jest.config.js`:
```javascript
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
  moduleFileExtensions: ['ts', 'js'],
  testMatch: ['**/__tests__/**/*.ts', '**/?(*.)+(spec|test).ts'],
  transform: {
    '^.+\\.ts$': 'ts-jest',
  },
  moduleNameMapper: {
    '^src/(.*)$': '<rootDir>/src/$1',
  },
  collectCoverage: true,
  coverageDirectory: 'coverage',
};
```

Add test script to `package.json`:
```json
"scripts": {
  "dev": "node esbuild.config.mjs",
  "build": "tsc -noEmit -skipLibCheck && node esbuild.config.mjs production",
  "test": "jest",
  "coverage": "jest --coverage"
}
```

Create a simple test to verify setup:
```bash
mkdir -p tests
touch tests/setup.test.ts
```

Add to `tests/setup.test.ts`:
```typescript
describe('Testing setup', () => {
  test('Jest is working', () => {
    expect(1 + 1).toBe(2);
  });
});
```

### 6. Create Project Documentation Structure

Create basic documentation files:
```bash
touch README.md CHANGELOG.md CONTRIBUTING.md
```

Add basic content to `README.md`:
```markdown
# Chatsidian

An Obsidian plugin for native chat with MCP integration.

## Features

- Connect to AI services via API
- Store conversations in your vault
- Leverage Model Context Protocol for enhanced capabilities
- Extend functionality with Bounded Context Packs

## Installation

1. Download the latest release
2. Extract the zip file into your Obsidian plugins folder
3. Enable the plugin in Obsidian settings

## Development

### Prerequisites

- Node.js 16+
- npm or yarn

### Setup

```bash
# Clone the repository
git clone https://github.com/yourusername/chatsidian.git
cd chatsidian

# Install dependencies
npm install

# Build the plugin
npm run build

# Run in development mode with auto-reload
npm run dev
```

## Testing

```bash
# Run tests
npm test

# Generate coverage report
npm run coverage
```

## Contributing

See [CONTRIBUTING.md](CONTRIBUTING.md) for details on how to contribute to this project.

## License

MIT
```

## Configuration Tips

### Local Development in Obsidian

For local development with Obsidian:

1. Create a symbolic link from your build output to an Obsidian vault's plugins directory:
   ```bash
   # On macOS/Linux
   ln -s /path/to/chatsidian /path/to/obsidian/vault/.obsidian/plugins/chatsidian
   
   # On Windows (as administrator)
   mklink /D "C:\path\to\obsidian\vault\.obsidian\plugins\chatsidian" "C:\path\to\chatsidian"
   ```

2. Run in dev mode with auto-reload:
   ```bash
   npm run dev
   ```

3. Enable the plugin in Obsidian's Community Plugins settings

## References

- [[ðŸ’» Coding/Documentation/Obsidian/Plugin - Documentation.md]] - Obsidian Plugin API documentation
- [[ðŸ’» Coding/Documentation/Obsidian/PluginSettingTab - Documentation.md]] - Plugin settings documentation

## Next Steps

After completing this microphase, proceed to:
- [[ðŸ’» Coding/Projects/Chatsidian/3_Implementation/Phase1.2-Data-Models.md]] - Implementing data models and interfaces
