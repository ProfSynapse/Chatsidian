import { TypedEventBus } from '../../src/core/EventTypes';
import { EventBus } from '../../src/core/EventBus';
describe('TypedEventBus', () => {
    let eventBus;
    let typedEventBus;
    beforeEach(() => {
        eventBus = new EventBus();
        typedEventBus = new TypedEventBus(eventBus);
    });
    test('should register and trigger typed event handlers', () => {
        const handler = jest.fn();
        typedEventBus.on('ui:theme:changed', handler);
        typedEventBus.emit('ui:theme:changed', 'dark');
        expect(handler).toHaveBeenCalledWith('dark');
    });
    test('should unregister typed event handlers', () => {
        const handler = jest.fn();
        typedEventBus.on('ui:theme:changed', handler);
        typedEventBus.off('ui:theme:changed', handler);
        typedEventBus.emit('ui:theme:changed', 'dark');
        expect(handler).not.toHaveBeenCalled();
    });
    test('should handle complex typed events', () => {
        const handler = jest.fn();
        const event = {
            previousSettings: { /* Minimal mock of settings */},
            currentSettings: { /* Minimal mock of settings */},
            changedKeys: ['theme', 'fontSize']
        };
        typedEventBus.on('settings:updated', handler);
        typedEventBus.emit('settings:updated', event);
        expect(handler).toHaveBeenCalledWith(event);
        expect(handler.mock.calls[0][0].changedKeys).toEqual(['theme', 'fontSize']);
    });
    test('should await async typed event handlers', async () => {
        const handler = jest.fn().mockImplementation(async () => {
            await new Promise(resolve => setTimeout(resolve, 10));
        });
        typedEventBus.on('plugin:loaded', handler);
        await typedEventBus.emitAsync('plugin:loaded', undefined);
        expect(handler).toHaveBeenCalled();
    });
    test('should get a list of events with listeners', () => {
        typedEventBus.on('plugin:loaded', () => { });
        typedEventBus.on('ui:theme:changed', () => { });
        const events = typedEventBus.getEvents();
        expect(events).toHaveLength(2);
        expect(events).toContain('plugin:loaded');
        expect(events).toContain('ui:theme:changed');
    });
    test('should check if an event has listeners', () => {
        typedEventBus.on('plugin:loaded', () => { });
        expect(typedEventBus.hasListeners('plugin:loaded')).toBe(true);
        expect(typedEventBus.hasListeners('plugin:unloaded')).toBe(false);
    });
    test('should get the number of listeners for an event', () => {
        typedEventBus.on('plugin:loaded', () => { });
        typedEventBus.on('plugin:loaded', () => { });
        expect(typedEventBus.listenerCount('plugin:loaded')).toBe(2);
        expect(typedEventBus.listenerCount('plugin:unloaded')).toBe(0);
    });
    test('should clear all event handlers', () => {
        const handler1 = jest.fn();
        const handler2 = jest.fn();
        typedEventBus.on('plugin:loaded', handler1);
        typedEventBus.on('ui:theme:changed', handler2);
        typedEventBus.clear();
        typedEventBus.emit('plugin:loaded', undefined);
        typedEventBus.emit('ui:theme:changed', 'dark');
        expect(handler1).not.toHaveBeenCalled();
        expect(handler2).not.toHaveBeenCalled();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHlwZWRFdmVudEJ1cy50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiVHlwZWRFdmVudEJ1cy50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQWMsTUFBTSwyQkFBMkIsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFbkQsUUFBUSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7SUFDN0IsSUFBSSxRQUFrQixDQUFDO0lBQ3ZCLElBQUksYUFBNEIsQ0FBQztJQUVqQyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsUUFBUSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7UUFDMUIsYUFBYSxHQUFHLElBQUksYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzlDLENBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBSSxDQUFDLGtEQUFrRCxFQUFFLEdBQUcsRUFBRTtRQUM1RCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7UUFFMUIsYUFBYSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUM5QyxhQUFhLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRS9DLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyx3Q0FBd0MsRUFBRSxHQUFHLEVBQUU7UUFDbEQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBRTFCLGFBQWEsQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDOUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMvQyxhQUFhLENBQUMsSUFBSSxDQUFDLGtCQUFr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QyxlQUFlLEVBQUUsR0FBRyxFQUFFLEdBQUUsQ0FBQyxDQUFDLENBQUM7UUFDNUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFLEdBQUUsQ0FBQyxDQUFDLENBQUM7UUFFNUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0QsTUFBTSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRSxDQUFDLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUU7UUFDM0MsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQzNCLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUUzQixhQUFhLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM1QyxhQUFhLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQy9DLGFBQWEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUV0QixhQUFhLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUMvQyxhQUFhLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRS9DLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4QyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDMUMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR5cGVkRXZlbnRCdXMsIEV2ZW50VHlwZXMgfSBmcm9tICcuLi8uLi9zcmMvY29yZS9FdmVudFR5cGVzJztcclxuaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICcuLi8uLi9zcmMvY29yZS9FdmVudEJ1cyc7XHJcblxyXG5kZXNjcmliZSgnVHlwZWRFdmVudEJ1cycsICgpID0+IHtcclxuICBsZXQgZXZlbnRCdXM6IEV2ZW50QnVzO1xyXG4gIGxldCB0eXBlZEV2ZW50QnVzOiBUeXBlZEV2ZW50QnVzO1xyXG4gIFxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgZXZlbnRCdXMgPSBuZXcgRXZlbnRCdXMoKTtcclxuICAgIHR5cGVkRXZlbnRCdXMgPSBuZXcgVHlwZWRFdmVudEJ1cyhldmVudEJ1cyk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgdGVzdCgnc2hvdWxkIHJlZ2lzdGVyIGFuZCB0cmlnZ2VyIHR5cGVkIGV2ZW50IGhhbmRsZXJzJywgKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlciA9IGplc3QuZm4oKTtcclxuICAgIFxyXG4gICAgdHlwZWRFdmVudEJ1cy5vbigndWk6dGhlbWU6Y2hhbmdlZCcsIGhhbmRsZXIpO1xyXG4gICAgdHlwZWRFdmVudEJ1cy5lbWl0KCd1aTp0aGVtZTpjaGFuZ2VkJywgJ2RhcmsnKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KGhhbmRsZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdkYXJrJyk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgdGVzdCgnc2hvdWxkIHVucmVnaXN0ZXIgdHlwZWQgZXZlbnQgaGFuZGxlcnMnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVyID0gamVzdC5mbigpO1xyXG4gICAgXHJcbiAgICB0eXBlZEV2ZW50QnVzLm9uKCd1aTp0aGVtZTpjaGFuZ2VkJywgaGFuZGxlcik7XHJcbiAgICB0eXBlZEV2ZW50QnVzLm9mZigndWk6dGhlbWU6Y2hhbmdlZCcsIGhhbmRsZXIpO1xyXG4gICAgdHlwZWRFdmVudEJ1cy5lbWl0KCd1aTp0aGVtZTpjaGFuZ2VkJywgJ2RhcmsnKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KGhhbmRsZXIpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV4IHR5cGVkIGV2ZW50cycsICgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZXIgPSBqZXN0LmZuKCk7XHJcbiAgICBjb25zdCBldmVudDogRXZlbnRUeXBlc1snc2V0dGluZ3M6dXBkYXRlZCddID0ge1xyXG4gICAgICBwcmV2aW91c1NldHRpbmdzOiB7IC8qIE1pbmltYWwgbW9jayBvZiBzZXR0aW5ncyAqLyB9IGFzIGFueSxcclxuICAgICAgY3VycmVudFNldHRpbmdzOiB7IC8qIE1pbmltYWwgbW9jayBvZiBzZXR0aW5ncyAqLyB9IGFzIGFueSxcclxuICAgICAgY2hhbmdlZEtleXM6IFsndGhlbWUnLCAnZm9udFNpemUnXVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdHlwZWRFdmVudEJ1cy5vbignc2V0dGluZ3M6dXBkYXRlZCcsIGhhbmRsZXIpO1xyXG4gICAgdHlwZWRFdmVudEJ1cy5lbWl0KCdzZXR0aW5nczp1cGRhdGVkJywgZXZlbnQpO1xyXG4gICAgXHJcbiAgICBleHBlY3QoaGFuZGxlcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXZlbnQpO1xyXG4gICAgZXhwZWN0KGhhbmRsZXIubW9jay5jYWxsc1swXVswXS5jaGFuZ2VkS2V5cykudG9FcXVhbChbJ3RoZW1lJywgJ2ZvbnRTaXplJ10pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIHRlc3QoJ3Nob3VsZCBhd2FpdCBhc3luYyB0eXBlZCBldmVudCBoYW5kbGVycycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZXIgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgdHlwZWRFdmVudEJ1cy5vbigncGx1Z2luOmxvYWRlZCcsIGhhbmRsZXIpO1xyXG4gICAgYXdhaXQgdHlwZWRFdmVudEJ1cy5lbWl0QXN5bmMoJ3BsdWdpbjpsb2FkZWQnLCB1bmRlZmluZWQpO1xyXG4gICAgXHJcbiAgICBleHBlY3QoaGFuZGxlcikudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIHRlc3QoJ3Nob3VsZCBnZXQgYSBsaXN0IG9mIGV2ZW50cyB3aXRoIGxpc3RlbmVycycsICgpID0+IHtcclxuICAgIHR5cGVkRXZlbnRCdXMub24oJ3BsdWdpbjpsb2FkZWQnLCAoKSA9PiB7fSk7XHJcbiAgICB0eXBlZEV2ZW50QnVzLm9uKCd1aTp0aGVtZTpjaGFuZ2VkJywgKCkgPT4ge30pO1xyXG4gICAgXHJcbiAgICBjb25zdCBldmVudHMgPSB0eXBlZEV2ZW50QnVzLmdldEV2ZW50cygpO1xyXG4gICAgXHJcbiAgICBleHBlY3QoZXZlbnRzKS50b0hhdmVMZW5ndGgoMik7XHJcbiAgICBleHBlY3QoZXZlbnRzKS50b0NvbnRhaW4oJ3BsdWdpbjpsb2FkZWQnKTtcclxuICAgIGV4cGVjdChldmVudHMpLnRvQ29udGFpbigndWk6dGhlbWU6Y2hhbmdlZCcpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIHRlc3QoJ3Nob3VsZCBjaGVjayBpZiBhbiBldmVudCBoYXMgbGlzdGVuZXJzJywgKCkgPT4ge1xyXG4gICAgdHlwZWRFdmVudEJ1cy5vbigncGx1Z2luOmxvYWRlZCcsICgpID0+IHt9KTtcclxuICAgIFxyXG4gICAgZXhwZWN0KHR5cGVkRXZlbnRCdXMuaGFzTGlzdGVuZXJzKCdwbHVnaW46bG9hZGVkJykpLnRvQmUodHJ1ZSk7XHJcbiAgICBleHBlY3QodHlwZWRFdmVudEJ1cy5oYXNMaXN0ZW5lcnMoJ3BsdWdpbjp1bmxvYWRlZCcpKS50b0JlKGZhbHNlKTtcclxuICB9KTtcclxuICBcclxuICB0ZXN0KCdzaG91bGQgZ2V0IHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGZvciBhbiBldmVudCcsICgpID0+IHtcclxuICAgIHR5cGVkRXZlbnRCdXMub24oJ3BsdWdpbjpsb2FkZWQnLCAoKSA9PiB7fSk7XHJcbiAgICB0eXBlZEV2ZW50QnVzLm9uKCdwbHVnaW46bG9hZGVkJywgKCkgPT4ge30pO1xyXG4gICAgXHJcbiAgICBleHBlY3QodHlwZWRFdmVudEJ1cy5saXN0ZW5lckNvdW50KCdwbHVnaW46bG9hZGVkJykpLnRvQmUoMik7XHJcbiAgICBleHBlY3QodHlwZWRFdmVudEJ1cy5saXN0ZW5lckNvdW50KCdwbHVnaW46dW5sb2FkZWQnKSkudG9CZSgwKTtcclxuICB9KTtcclxuICBcclxuICB0ZXN0KCdzaG91bGQgY2xlYXIgYWxsIGV2ZW50IGhhbmRsZXJzJywgKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlcjEgPSBqZXN0LmZuKCk7XHJcbiAgICBjb25zdCBoYW5kbGVyMiA9IGplc3QuZm4oKTtcclxuICAgIFxyXG4gICAgdHlwZWRFdmVudEJ1cy5vbigncGx1Z2luOmxvYWRlZCcsIGhhbmRsZXIxKTtcclxuICAgIHR5cGVkRXZlbnRCdXMub24oJ3VpOnRoZW1lOmNoYW5nZWQnLCBoYW5kbGVyMik7XHJcbiAgICB0eXBlZEV2ZW50QnVzLmNsZWFyKCk7XHJcbiAgICBcclxuICAgIHR5cGVkRXZlbnRCdXMuZW1pdCgncGx1Z2luOmxvYWRlZCcsIHVuZGVmaW5lZCk7XHJcbiAgICB0eXBlZEV2ZW50QnVzLmVtaXQoJ3VpOnRoZW1lOmNoYW5nZWQnLCAnZGFyaycpO1xyXG4gICAgXHJcbiAgICBleHBlY3QoaGFuZGxlcjEpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICBleHBlY3QoaGFuZGxlcjIpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXX0=